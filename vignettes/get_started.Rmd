---
title: "Get started with aae.pop"
author: "Jian Yen"
date: "13/10/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Installation and setup

Cover basic model structure and terminology (survival, transition, reproduction). Introduce processes but link to next doc.

```{r cars}
summary(cars)
```


## Some terminology

The `aae.pop` package requires some knowledge of population models. A comprehensive reference is Hal Caswell's *Matrix Population Models* (2nd edition, 2001, Sinauer Associates, Sunderland). Searching for examples of population viability analysis, population demographic models, or matrix population models will bring up many alternative references.

`aae.pop` is designed to handle generic matrix models and makes minimal assumptions about model structure or purpose. This section outlines some terms and assumptions built into the `aae.pop` functions and documentation.

Matrix population models 


## Building a basic population model

```{r}
# load the aae.pop package
library(aae.pop)

# create a basic Leslie matrix for a population with
#   five age classes
# the aae.pop package assumes "columns move to rows"
popmat <- rbind(
  c(0,    0,    2,    4,    7),  # reproduction from 3-5 year olds
  c(0.25, 0,    0,    0,    0),  # survival from age 1 to 2
  c(0,    0.45, 0,    0,    0),  # survival from age 2 to 3
  c(0,    0,    0.70, 0,    0),  # survival from age 3 to 4
  c(0,    0,    0,    0.85, 0)   # survival from age 4 to 5
)

# create a population dynamics object with this matrix
#   without any additional processes
popdyn <- dynamics(popmat)

# can plot the model structure if the DiagrammeR package is installed
plot(popdyn)

# simulate from this model with default (random) initial conditions
sims <- simulate(popdyn)

# can plot this
plot(sims, xlab = "Generation", ylab = "Abundance")
```
