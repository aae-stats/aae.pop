<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moving beyond default settings in aae.pop â€¢ aae.pop</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Moving beyond default settings in aae.pop">
<meta property="og:description" content="aae.pop">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aae.pop</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/get_started.html">get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/including_processes.html">Including processes</a>
    </li>
    <li>
      <a href="../articles/beyond_defaults.html">Beyond defaults</a>
    </li>
    <li>
      <a href="../articles/metapopulations.html">Metapopulations</a>
    </li>
    <li>
      <a href="../articles/multiple_species.html">Multiple species</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/macperch_example.html">Macquarie perch</a>
    </li>
    <li>
      <a href="../articles/scenarios_example.html">Comparing scenarios</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">documentation</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/aae-stats/aae.pop">
    <span class="fab fa fab fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Moving beyond default settings in aae.pop</h1>
                        <h4 class="author">Jian Yen</h4>
            
            <h4 class="date">5/11/2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/aae-stats/aae.pop/blob/master/vignettes/beyond_defaults.Rmd"><code>vignettes/beyond_defaults.Rmd</code></a></small>
      <div class="hidden name"><code>beyond_defaults.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><code>aae.pop</code> sets default options to speed the process of defining and simulating population dynamics. These defaults are acceptable in some cases but are unlikely to suit all applications. This vignette covers the primary settings and some useful alternatives.</p>
</div>
<div id="simulate-settings" class="section level2">
<h2 class="hasAnchor">
<a href="#simulate-settings" class="anchor"></a><code>simulate</code> settings</h2>
<p>The <code>simulate</code> function has several relatively intuitive settings:</p>
<ul>
<li><p>nsim: the number of replicate simulations to run. The default is 1. Increasing this value makes sense if including any form of variation, such as demographic or environmental stochasticity or multiple initial conditions.</p></li>
<li><p>seed: the random seed used to initialise any random draws. Defaults to <code>NULL</code>, in which case the seed from the current workspace is used. Change this value if reproducible results are required.</p></li>
<li>options: these are the basic settings that control how <code>simulate</code> works. Several more-complex settings are described in <a href="#updaters">Updaters</a> and <a href="#initials">Initial conditions</a>, below.
<ul>
<li>ntime: number of time steps to simulate. Defaults to 50 and is ignored if covariates are included in a model.</li>
<li>keep_slices: should <code>simulate</code> return every intermediate time step? Defaults to <code>TRUE</code>, set to <code>FALSE</code> if only the final time step is required. This will reduce memory use, which is helpful for large models.</li>
<li>tidy_abundances: what happens to abundances after each iteration? Defaults to <code>identity</code>, which means that abundances are left unchanged, potentially as decimal values. A common alternative is <code>floor</code>, which will round down to the nearest integer, implying that fractional individuals cannot exist. Can be replaced with any function that takes in a vector and returns a vector of the the same size (e.g., <code>ceiling</code>, <code>round</code>).</li>
</ul>
</li>
</ul>
<p>All of the above settings can be changed directly in a call to <code>simulate</code>. Note that <code>options</code> is a named list, so a modified call to <code>simulate</code> might look like:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="va">sims</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>
  <span class="va">popdyn</span>,
  nsim <span class="op">=</span> <span class="fl">100</span>,
  seed <span class="op">=</span> <span class="fl">123</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>ntime <span class="op">=</span> <span class="fl">30</span>, keep_slices <span class="op">=</span> <span class="cn">FALSE</span>, tidy_abundances <span class="op">=</span> <span class="va">floor</span><span class="op">)</span>
<span class="op">)</span></pre></div>
<p>Alternatively, if certain settings need to be updated for all simulations in a project, it might be easier to change these at a deeper level through the <code>options</code> function in R. Specifically, <code>ntime</code>, <code>keep_slices</code>, and <code>tidy_abundances</code> are all set as options and can be updated with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># ntime</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>aae.pop_ntime <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>

<span class="co"># keep_slices</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>aae.pop_keep_slices <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># tidy_abundances</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>aae.pop_tidy_abundances <span class="op">=</span> <span class="va">floor</span><span class="op">)</span></pre></div>
</div>
<div id="initals" class="section level2">
<h2 class="hasAnchor">
<a href="#initals" class="anchor"></a>Initial conditions</h2>
<p>Setting initial conditions is a really important part of population dynamics modelling. The default initial conditions in <code>aae.pop</code> are random Poisson draws with a mean of 10. This is very simplistic, and assumes that a model will be run for many generations and that transient dynamics are not of interest.</p>
<p>The default initial conditions can be changed in several ways. First, the mean of the Poisson distribution can be changed with</p>
<p>More sensible initial conditions can be passed to <code>simulate</code> with the <code>init</code> argument. Initial conditions can be specified as a vector with one element per population class or as a matrix (or array) with one row per replicate and one column per population class. If specified as a vector and <code>nsim</code> is greater than 1, the initial conditions are assumed to be the same in all replicates.</p>
<p>initialise_args</p>
<p>set default initialisation method options(aae.pop_initialisation = initialise_poisson, aae.pop_lambda = 10)</p>
</div>
<div id="updaters" class="section level2">
<h2 class="hasAnchor">
<a href="#updaters" class="anchor"></a>Updaters</h2>
<p>update_crossprod update_binomial_leslie update_multinomial set update type for single-step updates options(aae.pop_update = update_crossprod)</p>
</div>
<div id="roll-your-own" class="section level2">
<h2 class="hasAnchor">
<a href="#roll-your-own" class="anchor"></a>Roll your own</h2>
<p>Particularly updaters</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://scholar.google.com.au/citations?user=oEmm1CMAAAAJ&amp;hl=en">Jian Yen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
