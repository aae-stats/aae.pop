<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comparing scenarios with population models • aae.pop</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Comparing scenarios with population models">
<meta property="og:description" content="aae.pop">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aae.pop</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/get_started.html">get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/including_processes.html">Including processes</a>
    </li>
    <li>
      <a href="../articles/beyond_defaults.html">Beyond defaults</a>
    </li>
    <li>
      <a href="../articles/metapopulations.html">Metapopulations</a>
    </li>
    <li>
      <a href="../articles/multiple_species.html">Multiple species</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/macperch_example.html">Macquarie perch</a>
    </li>
    <li>
      <a href="../articles/scenarios_example.html">Comparing scenarios</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">documentation</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/aae-stats/aae.pop">
    <span class="fab fa fab fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Comparing scenarios with population models</h1>
                        <h4 class="author">Jian Yen</h4>
            
            <h4 class="date">13/11/2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/aae-stats/aae.pop/blob/master/vignettes/scenarios_example.Rmd"><code>vignettes/scenarios_example.Rmd</code></a></small>
      <div class="hidden name"><code>scenarios_example.Rmd</code></div>

    </div>

    
    
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>A common application of population models is the comparison of scenarios based on population outcomes. Examples include predicting population trajectories under different scenarios of climate change, comparing or ranking competing management scenarios, and predicting the consequences of different ecological hypotheses. This example uses a simplified model of population dyanamics to demonstrate the comparison of multiple scenarios, as well as several methods to speed computation when simulating many scenarios.</p>
</div>
<div id="a-simple-population-model" class="section level2">
<h2 class="hasAnchor">
<a href="#a-simple-population-model" class="anchor"></a>A simple population model</h2>
<p>This example will focus on a simplified model of population dynamics for tractability. The example will consider four distinct populations (i.e., separate populations, not a metapopulation) of the same species with identical average vital rates in all populations. This species is assumed to have vital rates and demographic processes similar to the example species in the <a href="including_processes.html">Including processes</a> vignette:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># the population matrix</span>
<span class="va">popmat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,    <span class="fl">0</span>,    <span class="fl">10</span>,   <span class="fl">15</span>,    <span class="fl">20</span><span class="op">)</span>,  <span class="co"># reproduction from 3-5 year olds</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0</span>,    <span class="fl">0</span>,    <span class="fl">0</span>,     <span class="fl">0</span><span class="op">)</span>,   <span class="co"># survival from age 1 to 2</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,    <span class="fl">0.65</span>, <span class="fl">0</span>,    <span class="fl">0</span>,     <span class="fl">0</span><span class="op">)</span>,   <span class="co"># survival from age 2 to 3</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,    <span class="fl">0</span>,    <span class="fl">0.85</span>, <span class="fl">0</span>,     <span class="fl">0</span><span class="op">)</span>,   <span class="co"># survival from age 3 to 4</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,    <span class="fl">0</span>,    <span class="fl">0</span>,    <span class="fl">0.9</span>,   <span class="fl">0</span><span class="op">)</span>    <span class="co"># survival from age 4 to 5</span>
<span class="op">)</span>

<span class="co"># add some demographic stochasticity</span>
<span class="va">demostoch_mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/masks.html">all_classes</a></span><span class="op">(</span><span class="va">popmat</span><span class="op">)</span> <span class="co"># affects all classes</span>
<span class="va">demostoch_fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, lambda <span class="op">=</span> <span class="va">x</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">demostoch</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stochasticity.html">demographic_stochasticity</a></span><span class="op">(</span>
  masks <span class="op">=</span> <span class="va">demostoch_mask</span>,
  funs <span class="op">=</span> <span class="va">demostoch_fn</span>
<span class="op">)</span>

<span class="co"># and some environmental stochasticity</span>
<span class="va">reproduction_mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/masks.html">reproduction</a></span><span class="op">(</span><span class="va">popmat</span>, dims <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="co"># only ages 3-5 reproduce</span>
<span class="va">reproduction_fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, lambda <span class="op">=</span> <span class="va">x</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">transition_mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/masks.html">transition</a></span><span class="op">(</span><span class="va">popmat</span><span class="op">)</span> <span class="co"># all classes this time</span>
<span class="va">transition_fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="co"># add a random deviation to x</span>
  <span class="va">deviation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, min <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>, max <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>
  <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="va">deviation</span>
  
  <span class="co"># make sure the result isn't negative or greater than 1</span>
  <span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>
  <span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span>
  
  <span class="co"># return the value</span>
  <span class="va">x</span>
  
<span class="op">}</span>
<span class="va">envstoch</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stochasticity.html">environmental_stochasticity</a></span><span class="op">(</span>
  masks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">reproduction_mask</span>, <span class="va">transition_mask</span><span class="op">)</span>,
  funs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">reproduction_fn</span>, <span class="va">transition_fn</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># specify a Ricker model for density dependence</span>
<span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/density_dependence.html">density_dependence</a></span><span class="op">(</span>
  masks <span class="op">=</span> <span class="fu"><a href="../reference/masks.html">reproduction</a></span><span class="op">(</span><span class="va">popmat</span>, dims <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, <span class="co"># only adults reproduce</span>
  funs <span class="op">=</span> <span class="fu"><a href="../reference/density_functions.html">ricker</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">40</span>, exclude <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>      <span class="co"># set k based on adult abundances</span>
<span class="op">)</span></pre></div>
<p>Some more-complex processes are required to simulate the scenarios below. One of these is the consideration of fishing regulations that change through time, which might be captured with a <code>density_dependence_n</code> function where the proportion or number of individuals removed changes through time:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># specify a function to remove a set number of adults in any given year,</span>
<span class="co">#   with an argument that can be changed through time to incorporate</span>
<span class="co">#   changing scenarios</span>
<span class="va">removals_fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">remove</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="co"># add some stochasticity in the number of removals</span>
  <span class="va">remove</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="fl">1</span>, lambda <span class="op">=</span> <span class="va">remove</span><span class="op">)</span>
  
  <span class="co"># check that there are enough individuals to remove,</span>
  <span class="co">#   only remove up to sum(n) individuals</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">remove</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span>
    <span class="va">remove</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>
  
  <span class="co"># work out which age classes to remove, sampled</span>
  <span class="co">#   randomly up to the total available in each</span>
  <span class="co">#   age class</span>
  <span class="va">n_available</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span>, times <span class="op">=</span> <span class="va">n</span><span class="op">)</span>
  <span class="va">removal_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample.int</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">n_available</span><span class="op">)</span>, size <span class="op">=</span> <span class="va">remove</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span>
  
  <span class="co"># expand this into a vector of removals by age class</span>
  <span class="va">remove</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">n_available</span><span class="op">[</span><span class="va">removal_idx</span><span class="op">]</span><span class="op">)</span>
  <span class="va">remove_expanded</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">remove_expanded</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
  <span class="va">remove_expanded</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">remove</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">remove</span>

  <span class="co"># and return updated abundances</span>
  <span class="va">n</span> <span class="op">-</span> <span class="va">remove_expanded</span>
  
<span class="op">}</span>

<span class="co"># collate this into a single density_dependence_n object, </span>
<span class="co">#   focusing on adults</span>
<span class="va">dd_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/density_dependence.html">density_dependence_n</a></span><span class="op">(</span>
  masks <span class="op">=</span> <span class="fu"><a href="../reference/masks.html">all_classes</a></span><span class="op">(</span><span class="va">popmat</span>, dims <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, <span class="co"># want to focus on adults</span>
  funs <span class="op">=</span> <span class="va">removals_fn</span>
<span class="op">)</span></pre></div>
<p>The scenarios below also consider habitat restoration at multiple sites. The effects of habitat restoration can be captured with a <code>covariates</code> process that alters vital rates based on the current habitat extent:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co"># effects of habitat condition on reproduction</span>
<span class="co">#    reductions up to 10 % if habitat is non-existent,</span>
<span class="co">#    minimal reductions if habitat reaches 50 % of </span>
<span class="co">#    its maximum extent</span>
<span class="va">reproduction_effects</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">mat</span>, <span class="va">x</span>, <span class="va">alpha</span> <span class="op">=</span> <span class="fl">0.1</span>, <span class="va">beta</span> <span class="op">=</span> <span class="fl">4</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>

  <span class="co"># define a nonlinear effect of habitat</span>
  <span class="va">scale_factor</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">alpha</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span> <span class="va">beta</span> <span class="op">*</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># return re-scaled survival values</span>
  <span class="va">mat</span> <span class="op">*</span> <span class="va">scale_factor</span>

<span class="op">}</span>

<span class="co"># effects of habitat condition on survival</span>
<span class="co">#    minimal reductions unless habitat falls</span>
<span class="co">#    below 30 % of its expected extent, up to</span>
<span class="co">#    a 5 % reduction with non-existent habitat</span>
<span class="va">survival_effects</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">mat</span>, <span class="va">x</span>, <span class="va">alpha</span> <span class="op">=</span> <span class="fl">0.05</span>, <span class="va">beta</span> <span class="op">=</span> <span class="fl">10</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>

  <span class="co"># define a nonlinear effect of habitat</span>
  <span class="va">scale_factor</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">alpha</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span> <span class="va">beta</span> <span class="op">*</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># return re-scaled survival values</span>
  <span class="va">mat</span> <span class="op">*</span> <span class="va">scale_factor</span>

<span class="op">}</span>

<span class="co"># define masks</span>
<span class="va">covar_masks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/masks.html">reproduction</a></span><span class="op">(</span><span class="va">popmat</span><span class="op">)</span>,
  <span class="fu"><a href="../reference/masks.html">transition</a></span><span class="op">(</span><span class="va">popmat</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># link functions to masks</span>
<span class="va">covar_funs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="va">reproduction_effects</span>,
  <span class="va">survival_effects</span>
<span class="op">)</span>

<span class="co"># collate into a single object</span>
<span class="va">covars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/covariates.html">covariates</a></span><span class="op">(</span>
  masks <span class="op">=</span> <span class="va">covar_masks</span>,
  funs <span class="op">=</span> <span class="va">covar_funs</span>
<span class="op">)</span></pre></div>
</div>
<div id="defining-scenarios" class="section level2">
<h2 class="hasAnchor">
<a href="#defining-scenarios" class="anchor"></a>Defining scenarios</h2>
<p>This example considers a set of scenarios based on combinations of four generalised management actions implemented across four populations (four distinct locations). The actions are:</p>
<ul>
<li><p>increase habitat extent by 40 % at the location with the least habitat</p></li>
<li><p>increase habitat extent by 15 % each at the two locations with the least habitat</p></li>
<li><p>regulate and enforce a complete ban on fishing at two locations</p></li>
<li><p>reduce fishing pressure through regulation and partial enforcement at all locations</p></li>
</ul>
<p>The first and second actions are alternatives to one another, as are the third and fourth actions. Therefore, there are 9 possible combinations of actions are:</p>
<ul>
<li><p>habitat restoration at one location, fishing regulation at two locations</p></li>
<li><p>habitat restoration at one location, fishing regulation at all locations</p></li>
<li><p>habitat restoration at two locations, fishing regulation at two locations</p></li>
<li><p>habitat restoration at two locations, fishing regulation at all locations</p></li>
<li><p>habitat restoration at one location, no fishing regulation</p></li>
<li><p>habitat restoration at two locations, no fishing regulation</p></li>
<li><p>no habitat restoration, fishing regulation at two locations</p></li>
<li><p>no habitat restoration, fishing regulation at all locations</p></li>
<li><p>no habitat restoration, no fishing regulation</p></li>
</ul>
<p>The four actions are hypothetical but can be assumed to have similar financial costs. Therefore, the purpose of scenario testing in this case is to identify the benefits of different combinations of actions relative to one another and relative to taking no action.</p>
<p>The different actions can be implemented in <code>aae.pop</code> through functions that convert actions to sequences of covariates and arguments that influence the <code>covariates</code> and <code>density_dependence_n</code> processes in <code>simulate</code>. For habitat restoration, this function might look like:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="co"># function to define habitat extent including restoration effects</span>
<span class="va">restore</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">amount</span>, <span class="va">current</span>, <span class="va">ntime</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="co"># pull out the worst n sites</span>
  <span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">current</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">]</span>

  <span class="co"># create sequences of habitat extent at all sites</span>
  <span class="va">current</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span>
    <span class="va">rbind</span>,
    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="va">ntime</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">current</span><span class="op">)</span>
  <span class="op">)</span>
  
  <span class="co"># add habitat over a period of 5 years, up to `amount`</span>
  <span class="va">add</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">amount</span>, length <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">amount</span>, <span class="va">ntime</span> <span class="op">-</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># update sequences of habitat extent in the worst n sites  </span>
  <span class="va">current</span><span class="op">[</span>, <span class="va">idx</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sweep.html">sweep</a></span><span class="op">(</span>
    <span class="va">current</span><span class="op">[</span>, <span class="va">idx</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span>,
    <span class="fl">1</span>,
    <span class="va">add</span>,
    <span class="st">"+"</span>
  <span class="op">)</span>
  
  <span class="co"># return</span>
  <span class="va">current</span>
  
<span class="op">}</span></pre></div>
<p>To incorporate scenarios of fishing regulation simply requires an <code>args</code> element for <code>density_dependence_n</code> that specifies the average number of fish removed per year. In this case, unregulated fishing is assumed to remove 50 fish per year at a site, with partial regulation reducing this to 25 fish removed per year.</p>
</div>
<div id="simulating-many-scenarios" class="section level2">
<h2 class="hasAnchor">
<a href="#simulating-many-scenarios" class="anchor"></a>Simulating many scenarios</h2>
<p>There are nine possible combinations of actions (nine management <em>options</em>) and four populations. Simulating population dynamics in this case requires at least 36 simulations. This section will demonstrate the simplest way to set up and simulate dynamics for many scenarios. The following section will present several methods to speed up computation in very large cases (e.g., thousands or even millions of scenarios).</p>
<div id="setting-up-the-model" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-up-the-model" class="anchor"></a>Setting up the model</h3>
<p>With 36 simulations, each taking perhaps a few seconds, there is no real need to speed up simulations. In this case, the complexity is in setting up and defining the scenarios and interpreting their outputs. Set up requires simulations for each of the four populations under each of the management actions. The following code does this, using the <code>calculate_quasi_extinction</code> function defined in the <a href="macperch_example.html">Macquarie perch</a> example to summarise population trajectories:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="co"># set up some basic parameters</span>
<span class="va">npop</span> <span class="op">&lt;-</span> <span class="fl">4</span>      <span class="co"># how many populations?</span>
<span class="va">ntime</span> <span class="op">&lt;-</span> <span class="fl">50</span>    <span class="co"># how many years to simulate?</span>
<span class="va">nsim</span> <span class="op">&lt;-</span> <span class="fl">1000</span>   <span class="co"># how many replicates?</span>

<span class="co"># simulate current habitat extent (between 20 % and 60 %)</span>
<span class="va">habitat_extent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">npop</span>, min <span class="op">=</span> <span class="fl">0.2</span>, max <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>

<span class="co"># define a population model for each of the four populations</span>
<span class="va">popdyn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="va">npop</span><span class="op">)</span>,
  <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="../reference/dynamics.html">dynamics</a></span><span class="op">(</span>
    <span class="fu">envstoch</span><span class="op">(</span><span class="va">popmat</span><span class="op">)</span>,   <span class="co"># alter the matrix slightly for each population</span>
    <span class="va">envstoch</span>,
    <span class="va">demostoch</span>,
    <span class="va">dd</span>,
    <span class="va">dd_n</span>,
    <span class="va">covars</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="co"># define initial abundances in each population</span>
<span class="va">initial_abundance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span><span class="op">(</span>
  <span class="va">npop</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="fl">5</span>, lambda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">50</span>, <span class="fl">25</span>, <span class="fl">10</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># define the habitat restoration actions</span>
<span class="va">habitat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span>
  <span class="st">"restore_none"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">0</span>, amount <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,   <span class="co"># no sites restored</span>
  <span class="st">"restore_one"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, amount <span class="op">=</span> <span class="fl">0.40</span><span class="op">)</span>, <span class="co"># one site increased by 40 %</span>
  <span class="st">"restore_two"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">2</span>, amount <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span>  <span class="co"># two sites each increased by 15 %</span>
<span class="op">)</span>

<span class="co"># define the fishing regulation actions</span>
<span class="va">fishing</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span>
  <span class="st">"regulate_none"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>remove <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># baseline fishing pressure</span>
  <span class="st">"regulate_two"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>remove <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,     <span class="co"># complete halt at two sites</span>
  <span class="st">"regulate_all"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>remove <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">25</span>, <span class="fl">25</span>, <span class="fl">25</span><span class="op">)</span><span class="op">)</span>    <span class="co"># reduction at all sites</span>
<span class="op">)</span>

<span class="co"># define all combinations of actions</span>
<span class="va">scenarios</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html">expand.grid</a></span><span class="op">(</span>
  habitat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">habitat</span><span class="op">)</span>,
  fishing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">fishing</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># loop through each scenario</span>
<span class="va">quasi_ext</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, nrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">scenarios</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="va">npop</span><span class="op">)</span>  <span class="co"># empty matrix to store extinction risk estimates</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">scenarios</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="co"># pull out the relevant actions</span>
  <span class="va">hab_tmp</span> <span class="op">&lt;-</span> <span class="va">habitat</span><span class="op">[</span><span class="va">scenarios</span><span class="op">$</span><span class="va">habitat</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="op">]</span>
  <span class="va">fish_tmp</span> <span class="op">&lt;-</span> <span class="va">fishing</span><span class="op">[</span><span class="va">scenarios</span><span class="op">$</span><span class="va">fishing</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="op">]</span>
  
  <span class="co"># define habitat extent taking into account restoration</span>
  <span class="va">extent_tmp</span> <span class="op">&lt;-</span><span class="fu">restore</span><span class="op">(</span>
    n <span class="op">=</span> <span class="va">hab_tmp</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,
    amount <span class="op">=</span> <span class="va">hab_tmp</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,
    current <span class="op">=</span> <span class="va">habitat_extent</span>,
    ntime <span class="op">=</span> <span class="va">ntime</span>
  <span class="op">)</span>
  
  <span class="co"># the populations are independent, so can be run simultaneously </span>
  <span class="co">#   with lapply, mapply, or with a for loop</span>
  <span class="va">sims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>
  <span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">popdyn</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">sims</span><span class="op">[[</span><span class="va">j</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate.html">simulate</a></span><span class="op">(</span>
      <span class="va">popdyn</span><span class="op">[[</span><span class="va">j</span><span class="op">]</span><span class="op">]</span>,
      nsim <span class="op">=</span> <span class="va">nsim</span>,
      init <span class="op">=</span> <span class="va">initial_abundance</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span>,
      args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        covariates <span class="op">=</span> <span class="fu"><a href="../reference/covariates.html">format_covariates</a></span><span class="op">(</span><span class="va">extent_tmp</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span><span class="op">)</span>,
        density_dependence_n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>remove <span class="op">=</span> <span class="va">fish_tmp</span><span class="op">[</span><span class="va">j</span><span class="op">]</span><span class="op">)</span>
      <span class="op">)</span>
    <span class="op">)</span>    
  <span class="op">}</span>
  
  <span class="co"># summarise the trajectories</span>
  <span class="va">quasi_ext</span><span class="op">[</span><span class="va">i</span>, <span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span>
    <span class="va">sims</span>, 
    <span class="va">calculate_quasi_extinction</span>,
    threshold <span class="op">=</span> <span class="fl">10</span>,     <span class="co"># the quasi-extinction level</span>
    subset <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">5</span>,       <span class="co"># focus on adults</span>
    include <span class="op">=</span> <span class="cn">TRUE</span>      <span class="co"># less than or equal to threshold</span>
  <span class="op">)</span>
  
<span class="op">}</span></pre></div>
<p>The simulation approach demonstrated here is relatively comprehensive, considering every feasible combination of actions and simulating 1000 replicate trajectories for each population under each scenario. Extensions to this might explore additional sources of variation, such as using a range of initial conditions or including variation in other covariates (e.g., weather or climate). In this particular example, the fishing action was also static, with the <code>regulate_two</code> action always regulating the same two populations (locations 1 and 2).</p>
</div>
<div id="interpreting-the-outputs" class="section level3">
<h3 class="hasAnchor">
<a href="#interpreting-the-outputs" class="anchor"></a>Interpreting the outputs</h3>
<p>The quasi-extinction estimates can be interpreted directly for each population under each of the nine scenarios:</p>
<pre><code>##        habitat       fishing population 1 population 2 population 3
## 1 restore_none regulate_none         0.96         0.92         0.93
## 2  restore_one regulate_none         0.96         0.91         0.92
## 3  restore_two regulate_none         0.96         0.91         0.93
## 4 restore_none  regulate_two         0.00         0.01         0.93
## 5  restore_one  regulate_two         0.00         0.01         0.93
## 6  restore_two  regulate_two         0.00         0.01         0.93
## 7 restore_none  regulate_all         0.05         0.05         0.05
## 8  restore_one  regulate_all         0.04         0.06         0.06
## 9  restore_two  regulate_all         0.05         0.05         0.06
##   population 4
## 1         0.94
## 2         0.94
## 3         0.94
## 4         0.95
## 5         0.95
## 6         0.94
## 7         0.04
## 8         0.04
## 9         0.04</code></pre>
<p>These results highlight an interesting pattern. Fishing regulation clearly has a major impact on population trajectories, with a complete ban on fishing reducing extinction risk almost to zero in regulated populations. However, the remaining (unregulated) populations still have relatively high quasi-extinction risks. This highlights a conceptual challenge when results are spread over multiple populations: how much is an individual population worth?</p>
<p>It’s possible to dig into this with some additional summary statistics that augment the population-level estimates of quasi-extinction risk:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="co"># average quasi-extinction risk</span>
<span class="va">average_risk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">quasi_ext</span>, <span class="fl">1</span>, <span class="va">mean</span><span class="op">)</span>

<span class="co"># geometric mean quasi-extinction risk</span>
<span class="va">geom_ave_risk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">quasi_ext</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="co"># probability that at least one population becomes (quasi) extinct</span>
<span class="va">one_or_more_ext</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">quasi_ext</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/prod.html">prod</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></pre></div>
<p>Alternatively, the probability of persistence (i.e., avoiding extinction) can often be a useful output:</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="co"># probability of persistence for all populations under each scenario</span>
<span class="va">pr_persist</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">quasi_ext</span>

<span class="co"># probability that at least one population persists</span>
<span class="va">one_or_more_persist</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">quasi_ext</span>, <span class="fl">1</span>, <span class="va">prod</span><span class="op">)</span>

<span class="co"># probability that all four populations persist</span>
<span class="va">all_persist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">pr_persist</span>, <span class="fl">1</span>, <span class="va">prod</span><span class="op">)</span></pre></div>
<p>These outputs give a more-complete picture of the relative risk under each of the nine scenarios:</p>
<pre><code>##   Habitat action Fishing action Average risk Geometric average risk
## 1   restore_none  regulate_none         0.94                   0.94
## 2    restore_one  regulate_none         0.94                   0.93
## 3    restore_two  regulate_none         0.94                   0.94
## 4   restore_none   regulate_two         0.47                   0.05
## 5    restore_one   regulate_two         0.47                   0.05
## 6    restore_two   regulate_two         0.47                   0.05
## 7   restore_none   regulate_all         0.05                   0.05
## 8    restore_one   regulate_all         0.05                   0.05
## 9    restore_two   regulate_all         0.05                   0.05
##   Pr(at least one extinct) Pr(at least one persist) Pr(all persist)
## 1                     1.00                     0.23            0.00
## 2                     1.00                     0.24            0.00
## 3                     1.00                     0.23            0.00
## 4                     1.00                     1.00            0.00
## 5                     1.00                     1.00            0.00
## 6                     1.00                     1.00            0.00
## 7                     0.18                     1.00            0.82
## 8                     0.18                     1.00            0.82
## 9                     0.18                     1.00            0.82</code></pre>
<p>These outputs provide a clearer picture of the relative risks of the different scenarios, supporting decisions based on priorities for a single versus multiple populations. In this case, there is little justification for investment in habitat restoration but plenty of reason to invest in regulating fishing. A focus on persistence of a single population doesn’t distinguish the two fishing actions (partial or complete ban), yet a focus on maintaining all populations indicates that partial regulation across all locations is likely to be a much more effective strategy, reducing the risk that any one of the populations will become extinct.</p>
<p>Many variants of these summaries exist, such as probabilities that 2 or more populations persist, average extinction risk weighted by a measure of a population’s value, or metrics based on expected genetic or functional diversity under each scenarios.</p>
<p>The outputs of this modelling approach might support a recommendation in their own right, or might guide the development of alternative management actions, such as more-nuanced fishing regulations or more extensive habitat restoration scenarios. Alternatively, model outputs might highlight flaws in model construction. For example, if habitat restoration is known to be more effective than indicated by the results above, this might indicate knowledge gaps that limit the current model’s applicability.</p>
</div>
</div>
<div id="speeding-up-simulations" class="section level2">
<h2 class="hasAnchor">
<a href="#speeding-up-simulations" class="anchor"></a>Speeding up simulations</h2>
<div id="running-in-parallel" class="section level3">
<h3 class="hasAnchor">
<a href="#running-in-parallel" class="anchor"></a>Running in parallel</h3>
</div>
<div id="not-so-meta-populations" class="section level3">
<h3 class="hasAnchor">
<a href="#not-so-meta-populations" class="anchor"></a>Not-so-meta populations</h3>
<p>This document is yet to explore one option: running all four populations as a <code>metapopulation</code> with no dispersal. Although this method has computational benefits, it requires separate fishing and restoration functions with distinct arguments for each population.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://scholar.google.com.au/citations?user=oEmm1CMAAAAJ&amp;hl=en">Jian Yen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
